<!doctype html>
<html lang="ru" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Neural-networks/Object-detection/Quality-metrics" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Оценка качества детекции | Машинное и глубокое обучение</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://deepmachinelearning.ru/img/social-card2.png"><meta data-rh="true" name="twitter:image" content="https://deepmachinelearning.ru/img/social-card2.png"><meta data-rh="true" property="og:url" content="https://deepmachinelearning.ru/docs/Neural-networks/Object-detection/Quality-metrics"><meta data-rh="true" property="og:locale" content="ru"><meta data-rh="true" name="docusaurus_locale" content="ru"><meta data-rh="true" name="docsearch:language" content="ru"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Оценка качества детекции | Машинное и глубокое обучение"><meta data-rh="true" name="description" content="Методы оценки качества детекции объектов на изображениях."><meta data-rh="true" property="og:description" content="Методы оценки качества детекции объектов на изображениях."><meta data-rh="true" name="keywords" content="детекция объектов,object detection,оценка качества прогнозов,precision,recall,precision-recall curve,F-measure,Average Precision,Mean Average Precision,mAP"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://deepmachinelearning.ru/docs/Neural-networks/Object-detection/Quality-metrics"><link data-rh="true" rel="alternate" href="https://deepmachinelearning.ru/docs/Neural-networks/Object-detection/Quality-metrics" hreflang="ru"><link data-rh="true" rel="alternate" href="https://deepmachinelearning.ru/docs/Neural-networks/Object-detection/Quality-metrics" hreflang="x-default"><link rel="preconnect" href="https://mc.yandex.ru">
<script>!function(e,t,a,c,n,r,i){e[n]=e[n]||function(){(e[n].a=e[n].a||[]).push(arguments)},e[n].l=1*new Date,r=t.createElement(a),i=t.getElementsByTagName(a)[0],r.async=1,r.src="https://mc.yandex.ru/metrika/tag.js",i.parentNode.insertBefore(r,i)}(window,document,"script",0,"ym"),ym(98444042,"init",{defer:!0,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!1,ecommerce:!1,trackHash:!1})</script>
<noscript>
                            <div><img src="https://mc.yandex.ru/watch/98444042" style="position:absolute; left:-9999px;" alt=""></div>
                        </noscript>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.8f598318.css">
<script src="/assets/js/runtime~main.bbeee61b.js" defer="defer"></script>
<script src="/assets/js/main.832a0886.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Перейти к основному содержимому"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Перейти к основному содержимому</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Переключить навигационную панель" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/docs/Machine-learning/book-title">Машинное обучение</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Neural-networks/book-title">Глубокое обучение</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/abbreviations">Обозначения</a><a class="navbar__item navbar__link" href="/license">Лицензия</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Переключение между темным и светлым режимом (сейчас используется Светлый режим)" aria-label="Переключение между темным и светлым режимом (сейчас используется Светлый режим)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Прокрутка к началу" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Neural-networks/book-title">Глубокое обучение</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Neural-networks/intro">Введение</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Tasks-of-deep-learning">Примеры задач глубокого обучения</a><button aria-label="Expand sidebar category &#x27;Примеры задач глубокого обучения&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Multilayer-perceptron">Основы нейросетевых архитектур</a><button aria-label="Expand sidebar category &#x27;Основы нейросетевых архитектур&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Training-neural-networks">Обучение нейросетей</a><button aria-label="Expand sidebar category &#x27;Обучение нейросетей&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Training-simplification">Упрощение настройки</a><button aria-label="Expand sidebar category &#x27;Упрощение настройки&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Regularization">Регуляризация при настройке нейросетей</a><button aria-label="Expand sidebar category &#x27;Регуляризация при настройке нейросетей&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Special-architectures">Специальные архитектуры</a><button aria-label="Expand sidebar category &#x27;Специальные архитектуры&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Convolution-for-sequences-1D">Локальная обработка последовательностей</a><button aria-label="Expand sidebar category &#x27;Локальная обработка последовательностей&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Convolution-for-images-2D">Локальная обработка изображений</a><button aria-label="Expand sidebar category &#x27;Локальная обработка изображений&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Convolutional-architectures">Основные свёрточные архитектуры</a><button aria-label="Expand sidebar category &#x27;Основные свёрточные архитектуры&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Semantic-segmentation">Семантическая сегментация</a><button aria-label="Expand sidebar category &#x27;Семантическая сегментация&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/Neural-networks/Object-detection">Детекция объектов</a><button aria-label="Collapse sidebar category &#x27;Детекция объектов&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Neural-networks/Object-detection/Object-detection-task">Детекция объектов</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Neural-networks/Object-detection/Quality-metrics">Оценка качества детекции</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Neural-networks/Object-detection/Non-maximum-supression">Подавление немаксимумов</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Neural-networks/Object-detection/YOLO">YOLO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Neural-networks/Object-detection/SSD">SSD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Neural-networks/Object-detection/Feature-Pyramid-Network">Feature pyramid network</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Neural-networks/Object-detection/RetinaNet">RetinaNet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Neural-networks/Object-detection/CornerNet">CornerNet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Neural-networks/Object-detection/CenterNet">CenterNet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Neural-networks/Object-detection/Two-stage-detectors">Двухстадийные детекторы</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Neural-networks/Object-detection/Deformable-CNN">Деформируемые архитектуры</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Instance-segmentation">Сегментация объектов</a><button aria-label="Expand sidebar category &#x27;Сегментация объектов&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Embeddings">Эмбеддинги слов и параграфов</a><button aria-label="Expand sidebar category &#x27;Эмбеддинги слов и параграфов&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Recurrent-neural-nets">Рекуррентные сети</a><button aria-label="Expand sidebar category &#x27;Рекуррентные сети&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Transformer">Трансформер</a><button aria-label="Expand sidebar category &#x27;Трансформер&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Graph-processing">Обработка графов</a><button aria-label="Expand sidebar category &#x27;Обработка графов&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Neural-networks/conclusion">Заключение</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Навигационная цепочка текущей страницы"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Главная страница" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/Neural-networks/Object-detection"><span itemprop="name">Детекция объектов</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Оценка качества детекции</span><meta itemprop="position" content="2"></li></ul></nav><div class="theme-doc-markdown markdown"><h1>Оценка качества детекции</h1>
<p>По корректности распознавания класса объекта и по точности его выделения мерой <a href="/docs/Neural-networks/Semantic-segmentation/Semantic-segmentation-quality-metrics#iou-%D0%B8-dice">IoU</a> обнаружения в задаче <a href="/docs/Neural-networks/Object-detection/Object-detection-task">детекции объектов</a> делятся на следующие виды:</p>
<ul>
<li>
<p><strong>Верно положительные</strong> (True Positives): модель корректно распознала класс объекта и выделила его рамкой, сильно пересекающейся с истинной рамкой (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>IoU</mtext><mo>≥</mo><mi>α</mi></mrow><annotation encoding="application/x-tex">\text{IoU}\ge \alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em"></span><span class="mord text"><span class="mord">IoU</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.0037em">α</span></span></span></span>).</p>
</li>
<li>
<p><strong>Ложно положительные</strong> (False Positives): модель выделила рамкой объект, которого на самом деле нет либо выделила присутствующий объект, но неточно (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>IoU</mtext><mo>&lt;</mo><mi>α</mi></mrow><annotation encoding="application/x-tex">\text{IoU}&lt; \alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em"></span><span class="mord text"><span class="mord">IoU</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.0037em">α</span></span></span></span>).</p>
</li>
<li>
<p><strong>Ложно отрицательные</strong> (False Negatives): модель не распознала реально присутствующий объект.</p>
</li>
</ul>
<blockquote>
<p>Случаи <strong>верно отрицательных детекций</strong> (True Negatives), как в бинарной классификации, в задаче детекции не рассматривается, поскольку, строго говоря, им соответствуют все случаи, когда модель корректно не сработала на отсутствие объектов, а нас интересуют только корректные/некорректные выделения объектов целевых классов.</p>
</blockquote>
<p>Далее, для конкретного класса (например, &quot;машина&quot;) считаются меры <a href="/docs/Machine-learning/Classifier-evaluation/Special-binary-label-quality-estimation#%D1%82%D0%BE%D1%87%D0%BD%D0%BE%D1%81%D1%82%D1%8C-%D0%B8-%D0%BF%D0%BE%D0%BB%D0%BD%D0%BE%D1%82%D0%B0">Precision и Recall</a>, как в бинарной классификации:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Precision</mtext><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>P</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{Precision}=\frac{TP}{TP+FP}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord text"><span class="mord">Precision</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">TP</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord mathnormal" style="margin-right:0.13889em">FP</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">TP</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Recall</mtext><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>N</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{Recall}=\frac{TP}{TP+FN}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord text"><span class="mord">Recall</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">TP</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord mathnormal" style="margin-right:0.10903em">FN</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">TP</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>
<p>Например, для класса &quot;машина&quot;:</p>
<ul>
<li>
<p>Мера Precision показывает, как часто среди детекций машин действительно оказывались корректно выделенные машины.</p>
</li>
<li>
<p>Мера Recall показывает, какую долю машин среди реально присутствующих машин на изображении детектор сумел корректно выделить.</p>
</li>
</ul>
<p>Как и в бинарной классификации, можно вычислять <a href="/docs/Machine-learning/Classifier-evaluation/Special-binary-label-quality-estimation#f-%D0%BC%D0%B5%D1%80%D0%B0">F-меру</a>, агрегирующую Precision и Recall (через среднее гармоническое):</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>F-measure</mtext><mo>=</mo><mfrac><mrow><mn>2</mn><mo>⋅</mo><mtext>Precision</mtext><mo>⋅</mo><mtext>Recall</mtext></mrow><mrow><mtext>Precision</mtext><mo>+</mo><mtext>Recall</mtext></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{F-measure} = \frac{2\cdot\text{Precision}\cdot\text{Recall}}{\text{Precision}+\text{Recall}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord text"><span class="mord">F-measure</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.1408em;vertical-align:-0.7693em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord text"><span class="mord">Precision</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord text"><span class="mord">Recall</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord text"><span class="mord">Precision</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord text"><span class="mord">Recall</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>
<p>Важно понимать, что меры Precision и Recall вычисляются для фиксированного значения порога <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.0037em">α</span></span></span></span>. При изменении этого порога они будут некоторыми функциями от него:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mtext>Precision</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mtext>Precision</mtext><mo stretchy="false">(</mo><mi>α</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mtext>Recall</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mtext>Recall</mtext><mo stretchy="false">(</mo><mi>α</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*}
\text{Precision} &amp;= \text{Precision}(\alpha) \\
\text{Recall} &amp;= \text{Recall}(\alpha)
\end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em"><span style="top:-3.91em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord text"><span class="mord">Precision</span></span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord text"><span class="mord">Recall</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em"><span style="top:-3.91em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mord text"><span class="mord">Precision</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em">α</span><span class="mclose">)</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mord text"><span class="mord">Recall</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em">α</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em"><span></span></span></span></span></span></span></span></span></span></span></span>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Как будут изменяться Precision и Recall при увеличении <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.0037em">α</span></span></span></span>?</summary><div><div class="collapsibleContent_i85q"><p>При увеличении <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.0037em">α</span></span></span></span> детектор будет осторожнее выделять объекты - только там, где он больше в них уверен. Соответственно Precision будет увеличиваться ценой того, что Recall будет становиться ниже.</p></div></div></details>
<p>Варьируя <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.0037em">α</span></span></span></span> от 0 до 1, можно построить график зависимости P(R)=Precision(Recall), который называется <strong>графиком зависимости точности от полноты</strong> (precision-recall curve), с которым мы уже сталкивались <a href="/docs/Neural-networks/Semantic-segmentation/Semantic-segmentation-quality-metrics#average-precision">при оценке качества семантической сегментации</a>.</p>
<p>Пример этого графика приведён ниже (синяя кривая, <a href="https://www.yesterdayscoffee.de/tag/precision-recall-curve/" target="_blank" rel="noopener noreferrer">источник</a>):</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="407" height="344" class="img_ev3q"></p>
<p>Как видим, график имеет пилообразную форму, поэтому его сглаживают, заменяя значение precision для каждого значения recall на максимальное значение precision при всевозможных значениях recall выше порога:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo><mo>⟶</mo><mover accent="true"><mi>P</mi><mo>~</mo></mover><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><mover accent="true"><mi>R</mi><mo>~</mo></mover><mo>≥</mo><mi>R</mi></mrow></munder><mi>P</mi><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">P(R)\longrightarrow \tilde{P}(R)=\max_{\tilde{R}\ge R} P(R).</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">⟶</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.1702em;vertical-align:-0.25em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.13889em">P</span></span><span style="top:-3.6023em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.1667em"><span class="mord">~</span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.7553em;vertical-align:-1.0053em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em"><span style="top:-2.1899em;margin-left:0em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em"><span style="top:-2.7em"><span class="pstrut" style="height:2.7em"></span><span class="mord mathnormal mtight" style="margin-right:0.00773em">R</span></span><span style="top:-3.3023em"><span class="pstrut" style="height:2.7em"></span><span class="accent-body" style="left:-0.1667em"><span class="mord mtight">~</span></span></span></span></span></span></span><span class="mrel mtight">≥</span><span class="mord mathnormal mtight" style="margin-right:0.00773em">R</span></span></span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0053em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="mclose">)</span><span class="mord">.</span></span></span></span></span>
<p>Точность <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>P</mi><mo>~</mo></mover></mrow><annotation encoding="application/x-tex">\tilde{P}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9202em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.13889em">P</span></span><span style="top:-3.6023em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.1667em"><span class="mord">~</span></span></span></span></span></span></span></span></span></span> называют <strong>интерполированной точностью</strong> (interpolated precision) и её зависимость от Recall показана на графике выше красной кривой.</p>
<p>Для оценки качества детектора при всевозможных порогах <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.0037em">α</span></span></span></span> вычисляют меру <strong>Average Precision</strong> (AP) как площадь под графиком интерполированной точности:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>A</mi><mi>P</mi><mo>=</mo><msubsup><mo>∫</mo><mn>0</mn><mn>1</mn></msubsup><mover accent="true"><mi>P</mi><mo>~</mo></mover><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo><mi>d</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">AP=\int_0^1 \tilde{P}(R)dR</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.476em;vertical-align:-0.9119em"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.564em"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.8129em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.13889em">P</span></span><span style="top:-3.6023em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.1667em"><span class="mord">~</span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.00773em">R</span></span></span></span></span>
<blockquote>
<p>На практике для этого часто разбивают значения Recall на равномерно распределённые значения <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>R</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>R</mi><mi>K</mi></msub></mrow><annotation encoding="application/x-tex">R_0,R_1,...R_K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">...</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> (обычно  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mn>0.1</mn><mo separator="true">,</mo><mn>0.2</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mn>0.9</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{0,0.1,0.2,...0.9,1\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">0.1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">0.2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">...0.9</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">1</span><span class="mclose">}</span></span></span></span>) и вычисляют приближённую площадь:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>A</mi><mi>P</mi><mo>=</mo><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>K</mi></munderover><mover accent="true"><mi>P</mi><mo>~</mo></mover><mo stretchy="false">(</mo><msub><mi>R</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">(</mo><msub><mi>R</mi><mi>k</mi></msub><mo>−</mo><msub><mi>R</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">AP = \sum_{k=1}^K\tilde{P}(R_k)(R_k-R_{k-1})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:3.1304em;vertical-align:-1.3021em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em"><span style="top:-1.8479em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3021em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.13889em">P</span></span><span style="top:-3.6023em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.1667em"><span class="mord">~</span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>
</blockquote>
<p>Если усреднять <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><msub><mi>P</mi><mi>c</mi></msub></mrow><annotation encoding="application/x-tex">AP_c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord mathnormal">A</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> по каждому из <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span></span></span> классов в многоклассовой классификации, то получим величину <strong>Mean Average Precision</strong> (mAP):</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>m</mi><mi>A</mi><mi>P</mi><mo>=</mo><mfrac><mn>1</mn><mi>C</mi></mfrac><munderover><mo>∑</mo><mrow><mi>c</mi><mo>=</mo><mn>1</mn></mrow><mi>C</mi></munderover><mi>A</mi><msub><mi>P</mi><mi>c</mi></msub></mrow><annotation encoding="application/x-tex">mAP=\frac{1}{C}\sum_{c=1}^{C}AP_c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:3.0954em;vertical-align:-1.2671em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em"><span style="top:-1.8829em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em">C</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2671em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">A</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Страница документа"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Neural-networks/Object-detection/Object-detection-task"><div class="pagination-nav__sublabel">Предыдущая страница</div><div class="pagination-nav__label">Детекция объектов</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Neural-networks/Object-detection/Non-maximum-supression"><div class="pagination-nav__sublabel">Следующая страница</div><div class="pagination-nav__label">Подавление немаксимумов</div></a></nav></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">© 2023-25 <a href="https://victorkitov.github.io/">Виктор Китов</a>.</div></div></div></footer></div>
</body>
</html>