<!doctype html>
<html lang="ru" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Neural-networks/Semantic-segmentation/Upsampling-operations" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Повышение разрешения | Машинное и глубокое обучение</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://deepmachinelearning.ru/img/social-card2.png"><meta data-rh="true" name="twitter:image" content="https://deepmachinelearning.ru/img/social-card2.png"><meta data-rh="true" property="og:url" content="https://deepmachinelearning.ru/docs/Neural-networks/Semantic-segmentation/Upsampling-operations"><meta data-rh="true" property="og:locale" content="ru"><meta data-rh="true" name="docusaurus_locale" content="ru"><meta data-rh="true" name="docsearch:language" content="ru"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Повышение разрешения | Машинное и глубокое обучение"><meta data-rh="true" name="keywords" content="сегментация изображений,задача сегментации изображения,алгоритм сегментации изображений,сегментация объектов на изображении,модели сегментации изображений,семантическая сегментация изображения,сегментация обработка изображений,сегментация изображений нейронной сетью,semantic segmentation,сверточные сети"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://deepmachinelearning.ru/docs/Neural-networks/Semantic-segmentation/Upsampling-operations"><link data-rh="true" rel="alternate" href="https://deepmachinelearning.ru/docs/Neural-networks/Semantic-segmentation/Upsampling-operations" hreflang="ru"><link data-rh="true" rel="alternate" href="https://deepmachinelearning.ru/docs/Neural-networks/Semantic-segmentation/Upsampling-operations" hreflang="x-default"><link rel="preconnect" href="https://mc.yandex.ru">
<script>!function(e,t,a,c,n,r,i){e[n]=e[n]||function(){(e[n].a=e[n].a||[]).push(arguments)},e[n].l=1*new Date,r=t.createElement(a),i=t.getElementsByTagName(a)[0],r.async=1,r.src="https://mc.yandex.ru/metrika/tag.js",i.parentNode.insertBefore(r,i)}(window,document,"script",0,"ym"),ym(98444042,"init",{defer:!0,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!1,ecommerce:!1,trackHash:!1})</script>
<noscript>
                            <div><img src="https://mc.yandex.ru/watch/98444042" style="position:absolute; left:-9999px;" alt=""></div>
                        </noscript>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.f823242a.css">
<script src="/assets/js/runtime~main.531f59d4.js" defer="defer"></script>
<script src="/assets/js/main.0773afd7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Перейти к основному содержимому"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Перейти к основному содержимому</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Переключить навигационную панель" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/docs/Machine-learning/book-title">Машинное обучение</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Neural-networks/book-title">Глубокое обучение</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/abbreviations">Обозначения</a><a class="navbar__item navbar__link" href="/license">Лицензия</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Переключение между темным и светлым режимом (сейчас используется Светлый режим)" aria-label="Переключение между темным и светлым режимом (сейчас используется Светлый режим)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Прокрутка к началу" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Neural-networks/book-title">Глубокое обучение</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Neural-networks/intro">Введение</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Tasks-of-deep-learning">Примеры задач глубокого обучения</a><button aria-label="Expand sidebar category &#x27;Примеры задач глубокого обучения&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Multilayer-perceptron">Основы нейросетевых архитектур</a><button aria-label="Expand sidebar category &#x27;Основы нейросетевых архитектур&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Training-neural-networks">Обучение нейросетей</a><button aria-label="Expand sidebar category &#x27;Обучение нейросетей&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Training-simplification">Упрощение настройки</a><button aria-label="Expand sidebar category &#x27;Упрощение настройки&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Regularization">Регуляризация при настройке нейросетей</a><button aria-label="Expand sidebar category &#x27;Регуляризация при настройке нейросетей&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Special-architectures">Специальные архитектуры</a><button aria-label="Expand sidebar category &#x27;Специальные архитектуры&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Convolution-for-sequences-1D">Локальная обработка последовательностей</a><button aria-label="Expand sidebar category &#x27;Локальная обработка последовательностей&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Convolution-for-images-2D">Локальная обработка изображений</a><button aria-label="Expand sidebar category &#x27;Локальная обработка изображений&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Convolutional-architectures">Основные свёрточные архитектуры</a><button aria-label="Expand sidebar category &#x27;Основные свёрточные архитектуры&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/Neural-networks/Semantic-segmentation">Семантическая сегментация</a><button aria-label="Collapse sidebar category &#x27;Семантическая сегментация&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Neural-networks/Semantic-segmentation/Semantic-segmentation-task">Семантическая сегментация</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Neural-networks/Semantic-segmentation/Semantic-segmentation-approaches">Подходы к решению</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Neural-networks/Semantic-segmentation/Semantic-segmentation-quality-metrics">Меры качества семантической сегментации</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Neural-networks/Semantic-segmentation/Upsampling-operations">Повышение разрешения</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Neural-networks/Semantic-segmentation/FCN">Fully Convolutional Network</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Neural-networks/Semantic-segmentation/U-net-and-extensions">U-net и её развитие</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Neural-networks/Semantic-segmentation/Accounting-for-context">Учёт контекста</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Object-detection">Детекция объектов</a><button aria-label="Expand sidebar category &#x27;Детекция объектов&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Instance-segmentation">Сегментация объектов</a><button aria-label="Expand sidebar category &#x27;Сегментация объектов&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Embeddings">Эмбеддинги слов и параграфов</a><button aria-label="Expand sidebar category &#x27;Эмбеддинги слов и параграфов&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Recurrent-neural-nets">Рекуррентные сети</a><button aria-label="Expand sidebar category &#x27;Рекуррентные сети&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Transformer">Механизм внимания и трансформер</a><button aria-label="Expand sidebar category &#x27;Механизм внимания и трансформер&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Neural-networks/Graph-processing">Обработка графов</a><button aria-label="Expand sidebar category &#x27;Обработка графов&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Neural-networks/conclusion">Заключение</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Навигационная цепочка текущей страницы"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Главная страница" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/Neural-networks/Semantic-segmentation"><span itemprop="name">Семантическая сегментация</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Повышение разрешения</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Содержание этой страницы</button></div><div class="theme-doc-markdown markdown"><h1>Повышение разрешения</h1>
<p>Как мы видели, базовая архитектура сегментационной сети представляет собой кодировщик, постепенно снижающий пространственное разрешение, и декодировщик, возвращающий разрешение к исходному (<a href="https://cs231n.stanford.edu/slides/2017/cs231n_2017_lecture11.pdf?ref=jeremyjordan.me" target="_blank" rel="noopener noreferrer">источник</a>):</p>
<p><img decoding="async" loading="lazy" src="/assets/images/encoder-decoder-8a6be380ec2be0f6b557777720d43523.jpg" width="933" height="310" class="img_ev3q"></p>
<p>Для уменьшения разрешения (downsampling) можно использовать свёртки с шагом больше единицы, а также операции пулинга.</p>
<p>Рассмотрим методы обратного повышения пространственного разрешения (upsampling, называемого также unpooling и upscaling).</p>
<p>Задачей повышения разрешения является перевод внутреннего представления изображения из низкого разрешения в высокое. Т.е. мы знаем значения активаций в грубой сетке значений, и нам нужно восстановить недостающие значения в более мелкой сетке как показано ниже:</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="1754" height="485" class="img_ev3q"></p>
<p>Для этого нам нужно воспользоваться тем или иным методом интерполяции промежуточных значений по опорным значениям грубой сетки (выполняемой для каждого канала независимо). Поскольку интерполяция будет неточной, то часто после интерполяции ставят обучаемую свёртку, которая настраивается немного уточнять  результаты интерполяции.</p>
<p>Рассмотрим популярные методы повышения разрешения.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bed-of-nails">Bed of nails<a class="hash-link" aria-label="Прямая ссылка на Bed of nails" title="Прямая ссылка на Bed of nails" href="/docs/Neural-networks/Semantic-segmentation/Upsampling-operations#bed-of-nails">​</a></h2>
<p>Метод bed of nails просто заполняет детальную сетку значений нулями, а потом подставляет значения грубой сетки в соответствующие пространственные позиции (после перемасштабирования). Вот как выглядит результат работы для случая перевода сетки 2x2 в сетку 5x5:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">b</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">c</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">d</mi></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>⟶</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">b</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">c</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">d</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\left(\begin{array}{cc}
\mathbf{a} &amp; \mathbf{b}\\
\mathbf{c} &amp; \mathbf{d}
\end{array}\right)\longrightarrow\left(\begin{array}{ccccc}
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; \mathbf{a} &amp; 0 &amp; \mathbf{b} &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\
0 &amp; \mathbf{c} &amp; 0 &amp; \mathbf{d} &amp; 0\\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0
\end{array}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em"><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">a</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em"><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">b</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">⟶</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:6em;vertical-align:-2.75em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em"><span style="top:-5.25em"><span class="pstrut" style="height:8em"></span><span style="width:0.875em;height:6.000em"><svg xmlns="http://www.w3.org/2000/svg" width="0.875em" height="6.000em" viewBox="0 0 875 6000"><path d="M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,2484c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-2492c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em"><span style="top:-5.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-0.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em"><span style="top:-5.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">a</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">c</span></span></span><span style="top:-0.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em"><span style="top:-5.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-0.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em"><span style="top:-5.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">b</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">d</span></span></span><span style="top:-0.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em"><span style="top:-5.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-0.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em"><span style="top:-5.25em"><span class="pstrut" style="height:8em"></span><span style="width:0.875em;height:6.000em"><svg xmlns="http://www.w3.org/2000/svg" width="0.875em" height="6.000em" viewBox="0 0 875 6000"><path d="M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,2409
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-2544c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em"><span></span></span></span></span></span></span></span></span></span></span></span>
<p>В случае, если после перемасштабирования обновлённые координаты элементов грубой сетки не идеально соответствуют координатам в мелкой сетке, применяется округление координат, чтобы они всегда были целыми числами.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="интерполяция-ближайшим-соседом">Интерполяция ближайшим соседом<a class="hash-link" aria-label="Прямая ссылка на Интерполяция ближайшим соседом" title="Прямая ссылка на Интерполяция ближайшим соседом" href="/docs/Neural-networks/Semantic-segmentation/Upsampling-operations#интерполяция-ближайшим-соседом">​</a></h2>
<p>В интерполяция ближайшим соседом (nearest neighbor interpolation) координаты элементов грубой сетки перемасштабируются под размер мелкой сетки, а элементы мелкой сетки заполняются значениями ближайшим к ним элементов грубой сетки, как показано в примере ниже:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">b</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">c</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">d</mi></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>⟶</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">b</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">b</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">b</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">b</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">c</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">c</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">d</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">d</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">c</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">c</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">d</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">d</mi></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\left(\begin{array}{cc}
\mathbf{a} &amp; \mathbf{b}\\
\mathbf{c} &amp; \mathbf{d}
\end{array}\right)\longrightarrow\left(\begin{array}{cccc}
\mathbf{a} &amp; \mathbf{a} &amp; \mathbf{b} &amp; \mathbf{b}\\
\mathbf{a} &amp; \mathbf{a} &amp; \mathbf{b} &amp; \mathbf{b}\\
\mathbf{c} &amp; \mathbf{c} &amp; \mathbf{d} &amp; \mathbf{d}\\
\mathbf{c} &amp; \mathbf{c} &amp; \mathbf{d} &amp; \mathbf{d}
\end{array}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em"><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">a</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em"><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">b</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">⟶</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.65em"><span class="pstrut" style="height:6.8em"></span><span style="width:0.875em;height:4.800em"><svg xmlns="http://www.w3.org/2000/svg" width="0.875em" height="4.800em" viewBox="0 0 875 4800"><path d="M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">a</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">a</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">c</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">a</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">a</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">c</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">b</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">b</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">d</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">b</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">b</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">d</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathbf">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.65em"><span class="pstrut" style="height:6.8em"></span><span style="width:0.875em;height:4.800em"><svg xmlns="http://www.w3.org/2000/svg" width="0.875em" height="4.800em" viewBox="0 0 875 4800"><path d="M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span></span></span></span></span></span>
<p>Напирмер, координаты элемента <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">a</span></span></span></span> были (1,1), а стали (1.5,1.5). В результате четыре ближайших элемента в мелкой сетке оказались к этой позиции ближайшими и тоже заполнились значением <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">a</span></span></span></span>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="билинейная-интерполяция">Билинейная интерполяция<a class="hash-link" aria-label="Прямая ссылка на Билинейная интерполяция" title="Прямая ссылка на Билинейная интерполяция" href="/docs/Neural-networks/Semantic-segmentation/Upsampling-operations#билинейная-интерполяция">​</a></h2>
<p>Интерполяция ближайшим соседом приводит к резким перепадам значений. Билинейная интерп оляция заставляет значения изменяться более плавно (по линейному закону) при приближении к тому или иному опорному значению грубой сетки.</p>
<p>Для этого</p>
<ol>
<li>
<p>целевая точка проецируется на грубую сетку вверх и вниз вдоль оси Y;</p>
</li>
<li>
<p>линейной интерполяцией находится значение для обоих проекций;</p>
</li>
<li>
<p>значение целевой точки находится линейной интерполяцией между значениями для проекций.</p>
</li>
</ol>
<p>Этот процесс показан ниже (<a href="https://en.wikipedia.org/wiki/Bilinear_interpolation" target="_blank" rel="noopener noreferrer">источник</a>):</p>
<p><img decoding="async" loading="lazy" src="/assets/images/bilinear-interpolation-8c46cd62f85870de07b2ea9263a3ac42.png" width="558" height="454" class="img_ev3q"></p>
<p>В бикубической интерполяция (bicubic interpolation) промежуточные значения на мелкой сетке находятся с помощью локальной полиномиальной аппроксимации, полученной по опорным элементам грубой стеки, а также из условий, чтобы соседние полиномы образовывали непрерывную и поверхность с непрерывными производными на краях.</p>
<p>Визуально различные виды интерполяции показаны ниже (<a href="https://en.wikipedia.org/wiki/Bilinear_interpolation" target="_blank" rel="noopener noreferrer">источник</a>):</p>
<p><img decoding="async" loading="lazy" src="/assets/images/interpolations-7a97e3177eb086b38d957a146f8a059a.png" width="960" height="640" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="транспонированная-свёртка">Транспонированная свёртка<a class="hash-link" aria-label="Прямая ссылка на Транспонированная свёртка" title="Прямая ссылка на Транспонированная свёртка" href="/docs/Neural-networks/Semantic-segmentation/Upsampling-operations#транспонированная-свёртка">​</a></h2>
<p>Транспонированная свёртка (transposed convolution) - альтернативный вариант повышения пространственного разрешения. От ранее перечисленных методов его отличает то, что в этот метод, как и обычная свёртка имеет настраиваемые параметры (смещение и ядро свёртки), а также традиционные гиперпараметры для свёртки (padding, stride, dilation).</p>
<p>Транспонированная свёртка была придумана, как некоторый аналог (нестрогий) операции, обратной к свёртке. Зададимся вопросом, как понять, насколько высокая была входная активация в определённой позиции по значениям выходов свёртки? Эта активация была высокой, если оказались высокими выходные активации с поправкой на коэффициенты самой свёртки в соответствующих позициях.</p>
<p>Чтобы представить работу транспонированной свёртки, нужно представить распространение градиента обычной свёртки в режиме обратно го прохода в методе backpropagation. В этом режиме входной слой (свёртки) является выходным (для транспонированной свёртки), а выходной слой, наоборот, является входным.</p>
<p>Если представить ядро транспонированной свёртки, как печать или штамп, в котором больше чернил в тех местах, где элементы ядра свёртки больше, то действие транспонированной свёртки можно представить как проставление этого штампа на выходной карте признаков с силой надавливания, равной соответствующим элементам входной карты признаков. Это продемонстрировано на рисунке ниже:</p>
<p><img decoding="async" loading="lazy" src="/assets/images/transposed-conv-a86c92f534ec9c801394b440660a6564.png" width="1058" height="530" class="img_ev3q"></p>
<p>В случае нескольких входных каналов действие аналогичное, но штамп становится &quot;трехмерным&quot; и транспонированная свёртка расширяет число каналов.</p>
<p>Параметр смещения (bias) оказывает то же влияние, что и в обычной свёртке - увеличивает значения всех выходов на величину смещения.</p>
<p>Гиперпараметр шага (stide) управляет тем, с каким смещением ядро свёртки ставится на выходную карту признаков. Ниже показана работа транспонированной свёртки с шагом 2:</p>
<p><img decoding="async" loading="lazy" src="/assets/images/transposed-conv-stride-2-d0f09ba2a8655d7c1b1f82594d3f1e3b.png" width="1322" height="578" class="img_ev3q"></p>
<p>Сдвиг (dilation) будет распылять значения ядра свёртки (&quot;печати&quot;), заполняя пропуски нулями, делая её более рассредоточенной.</p>
<p>Динамическую визуализацию работы обычной и транспонированной свёртки можно также посмотреть <a href="https://github.com/vdumoulin/conv_arithmetic/blob/master/README.md" target="_blank" rel="noopener noreferrer">здесь</a>.</p>
<p>При применении транспонированной свёртки на некоторые выходные значения ядро ставится один раз, а на некоторые - больше. На практике это приводит к тому, что выходные значения в каких-то местах в среднем больше, чем в других - т.н. артефакты &quot;шахматной доски&quot; (checkerboard artifacts), показанные ниже для случая 2-D (а,c) и 1-D (b) (<a href="https://distill.pub/2016/deconv-checkerboard/" target="_blank" rel="noopener noreferrer">источник</a>):</p>
<p><img decoding="async" loading="lazy" src="/assets/images/checkerboard-artifacts-of-transposed-conv-d9f678fcd6324f9efeb24f6430e38248.png" width="850" height="478" class="img_ev3q"></p>
<p>Для избежания подобных артефактов необходимо использовать другие методы повышения разрешения, такие как интерполяция ближайшим соседом (d на рисунке), билинейная и бикубическая интерполяция. Либо использовать транспонированную свёртку, но</p>
<ul>
<li>
<p>задавать stride=kernel size</p>
</li>
<li>
<p>либо нормировать каждый элемент выхода на число раз, сколько ядро транспонированной свёртки было на него проставлено.</p>
</li>
</ul>
<p>Также можно применять после транспонированной свёртки обычную, настроенную на разлаживание выходов транспонированной свёртки.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Страница документа"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Neural-networks/Semantic-segmentation/Semantic-segmentation-quality-metrics"><div class="pagination-nav__sublabel">Предыдущая страница</div><div class="pagination-nav__label">Меры качества семантической сегментации</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Neural-networks/Semantic-segmentation/FCN"><div class="pagination-nav__sublabel">Следующая страница</div><div class="pagination-nav__label">Fully Convolutional Network</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/Neural-networks/Semantic-segmentation/Upsampling-operations#bed-of-nails">Bed of nails</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Neural-networks/Semantic-segmentation/Upsampling-operations#интерполяция-ближайшим-соседом">Интерполяция ближайшим соседом</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Neural-networks/Semantic-segmentation/Upsampling-operations#билинейная-интерполяция">Билинейная интерполяция</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Neural-networks/Semantic-segmentation/Upsampling-operations#транспонированная-свёртка">Транспонированная свёртка</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">© 2023-25 <a href="https://victorkitov.github.io/">Виктор Китов</a>.</div></div></div></footer></div>
</body>
</html>